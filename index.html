<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ¯ LÄƒng kÃ­nh ngÆ°á»i tiÃªu dÃ¹ng</title>
<style>
Â  body { font-family:"Segoe UI",Arial,sans-serif; background:linear-gradient(120deg,#fff8dc,#ffe4e6); text-align:center; margin:0; padding:20px;}
Â  h1 { color:#6d28d9; }
Â  #game-container { background:white; border-radius:20px; box-shadow:0 4px 10px rgba(0,0,0,0.15); display:inline-block; padding:20px; max-width:500px; width:100%; }
Â  img { max-width:100%; border-radius:15px; margin-bottom:15px; box-shadow:0 2px 8px rgba(0,0,0,0.1);}
Â  button { padding:10px 20px; border:none; border-radius:10px; margin:5px; background-color:#7c3aed; color:white; font-weight:bold; cursor:pointer; transition:0.3s;}
Â  button:hover { background-color:#5b21b6;}
Â  select, input { padding:10px; border-radius:8px; border:1px solid #ccc; width:80%; margin-top:5px; margin-bottom:10px;}
Â  #result{font-size:18px;font-weight:bold;margin-top:15px;}
Â  #score{font-size:18px;font-weight:bold;color:#16a34a;margin-top:10px;}
Â  #timer{font-size:18px;font-weight:bold;color:#dc2626;margin-bottom:10px;}
Â  table { width:100%; border-collapse:collapse; margin-top:15px; overflow-x: auto;}
Â  th, td { border:1px solid #ccc; padding:8px; font-size:14px;}
Â  th { background:#7c3aed; color:white;}
</style>
</head>
<body>

<h1>ğŸ­ LÄƒng kÃ­nh ngÆ°á»i tiÃªu dÃ¹ng</h1>

<div id="menu">
Â  <h3>Nháº­p tÃªn cá»§a báº¡n:</h3>
Â  <input type="text" id="playerName" placeholder="Nháº­p tÃªn...">
Â  <h2>Chá»n cháº¿ Ä‘á»™ chÆ¡i</h2>
Â  <button onclick="startGame('sanpham')">ğŸ¥¯ Sáº£n pháº©m</button>
Â  <button onclick="startGame('baobi1')">ğŸ“¦ Bao bÃ¬ cáº¥p 1</button>
Â  <button onclick="startGame('baobi2')">ğŸ“¦ Bao bÃ¬ cáº¥p 2</button>
</div>

<div id="game-container" style="display:none;">
Â  <div id="timer">Thá»i gian: 20s</div>
Â  <img id="biscuitImage" src="" alt="áº¢nh lá»—i QC">
Â  <div>
Â  Â  <button onclick="checkAnswer(true)">âœ… Äáº¡t</button>
Â  Â  <button onclick="checkAnswer(false)">âŒ Lá»—i</button>
Â  </div>

Â  <div id="errorSection" style="display:none;">
Â  Â  <p>Chá»n loáº¡i lá»—i:</p>
Â  Â  <select id="errorSelect"></select>
Â  Â  <br>
Â  Â  <button onclick="submitError()">XÃ¡c nháº­n</button>
Â  </div>

Â  <div id="result"></div>
Â  <div id="score">Äiá»ƒm: 0</div>
Â  <br>
Â  <button onclick="nextImage()">ğŸ‘‰ áº¢nh tiáº¿p theo</button>
</div>

<script>
// --- Cáº¥u hÃ¬nh ÄÃƒ Sá»¬A Lá»–I ÄÆ¯á»œNG DáºªN áº¢NH ---
const CONFIG = {
    // ÄÃƒ CHUYá»‚N SANG ÄÆ¯á»œNG DáºªN RAW CONTENT CHÃNH XÃC Cá»¦A GITHUB
    baseURL: "https://raw.githubusercontent.com/lehienbqc53-cpu/Game-solite/main/images/",
    scriptURL: "https://script.google.com/macros/s/AKfycbxKWLF-e4atMCwpdusjTk_EeQdD5ySRZOtVq3IyAANjtBxa66Gnp_jhl1C62qWKbd3Z/exec",
    timerDuration: 20 // seconds
};

// --- Dá»¯ liá»‡u lá»—i (TÃªn áº£nh Ä‘Ã£ khá»›p vá»›i tÃªn lá»—i má»›i) ---
const ERROR_DATA = {
Â  Â  // Cháº¿ Ä‘á»™: ğŸ¥¯ Sáº£n pháº©m
Â  Â  sanpham: {
Â  Â  Â  Â  errors: [
Â  Â  Â  Â  Â  Â  // Cá»™t src (TÃªn tá»‡p áº£nh) = Cá»™t correctError (TÃªn lá»—i trong báº£ng) + ".webp"
Â  Â  Â  Â  Â  Â  { src: "Banh_Mau_Khong_Dat.webp", correctError: "BÃ¡nh mÃ u khÃ´ng Ä‘áº¡t" },
Â  Â  Â  Â  Â  Â  { src: "Banh_Khong_Dat_Bong_Kh.webp", correctError: "BÃ¡nh khÃ´ng Ä‘áº¡t bÃ³ng khÃ­" },
Â  Â  Â  Â  Â  Â  { src: "Banh_Vet_Nut_Khong_Dat.webp", correctError: "BÃ¡nh váº¿t ná»©t khÃ´ng Ä‘áº¡t" },
Â  Â  Â  Â  Â  Â  { src: "Banh_co_kem_khong_Dat.webp", correctError: "BÃ¡nh cÃ³ kem khÃ´ng Ä‘áº¡t" },
Â  Â  Â  Â  Â  Â  { src: "Banh_vo_Khong_Dat.webp", correctError: "BÃ¡nh vá» khÃ´ng Ä‘áº¡t" },
Â  Â  Â  Â  Â  Â  { src: "Banh_Troc_Vo_Khong_Dat.webp", correctError: "BÃ¡nh trÃ³c vá» khÃ´ng Ä‘áº¡t" },
Â  Â  Â  Â  ],
Â  Â  Â  Â  // ÄÃƒ Sá»¬A: ThÃªm .webp vÃ o cÃ¡c tá»‡p áº£nh Ä‘áº¡t
Â  Â  Â  Â  goods: ["Banh_Dat_Mau.webp", "Banh_co_Kem_Dat.webp", "Banh_Troc_Vo_Dat.webp", "Banh_Vo_Dat.webp", "Banh_Vet_Nut_Dat.webp"]Â 
Â  Â  },

Â  Â  // Cháº¿ Ä‘á»™: ğŸ“¦ Bao bÃ¬ cáº¥p 1
Â  Â  baobi1: {
Â  Â  Â  Â  errors: [
Â  Â  Â  Â  Â  Â  { src: "Duong_Han_Qua_Nhiet.webp", correctError: "ÄÆ°á»ng hÃ n quÃ¡ nhiá»‡t" },
Â  Â  Â  Â  Â  Â  { src: "Duong_Han_Yeu.webp", correctError: "ÄÆ°á»ng hÃ n yáº¿u" },
Â  Â  Â  Â  Â  Â  { src: "Duong_Han_Can_Trang_Rach.webp", correctError: "ÄÆ°á»ng hÃ n cáº¥n tráº¯ng rÃ¡ch" },
Â  Â  Â  Â  Â  Â  { src: "Sai_Nhoe_Date.webp", correctError: "Sai, nhÃ²e date" },
Â  Â  Â  Â  Â  Â  { src: "Duong_Han_Bung_Dau_Dau_Lec.webp", correctError: "ÄÆ°á»ng hÃ n bung Ä‘áº§u, Ä‘áº§u lá»‡ch" },
Â  Â  Â  Â  Â  Â  { src: "Bang_Keo_noi_cuon.webp", correctError: "BÄƒng keo ná»‘i cuá»™n" },
Â  Â  Â  Â  Â  Â  { src: "Xep_Ly_xi.webp", correctError: "Xáº¿p ly xÃ¬" }
Â  Â  Â  Â  ],
Â  Â  Â  Â  // ÄÃƒ Sá»¬A: ThÃªm .webp
Â  Â  Â  Â  goods: ["Banh_dat.webp"]
Â  Â  },

Â  Â  // Cháº¿ Ä‘á»™: ğŸ“¦ Bao bÃ¬ cáº¥p 2
Â  Â  baobi2: {
Â  Â  Â  Â  errors: [
Â  Â  Â  Â  Â  Â  { src: "Sap_xep_goi_banh_khong_dat.webp", correctError: "Sáº¯p xáº¿p gÃ³i bÃ¡nh khÃ´ng Ä‘áº¡t" },
Â  Â  Â  Â  Â  Â  { src: "Khay_Mop_Meo_Cong_Rach.webp", correctError: "Khay mÃ³p mÃ©o cong rÃ¡ch" },
Â  Â  Â  Â  Â  Â  { src: "Mang_Co_Nhan_Rach.webp", correctError: "MÃ ng co nhÄƒn rÃ¡ch" },
Â  Â  Â  Â  Â  Â  { src: "Sai_Nhoe_date.webp", correctError: "Sai, nhÃ²e date" },
Â  Â  Â  Â  Â  Â  { src: "Bang_Keo_nho_5mm_Khong_Dat.webp", correctError: "BÄƒng keo khÃ´ng Ä‘áº¡t 5cm" },
Â  Â  Â  Â  Â  Â  { src: "Thung_Mop_Meo.webp", correctError: "ThÃ¹ng mÃ³p mÃ©o" },
Â  Â  Â  Â  Â  Â  { src: "Thung_Thieu_Sai_Date.webp", correctError: "ThÃ¹ng thiáº¿u, sai date" },
Â  Â  Â  Â  Â  Â  { src: "Sai_Thieu_date_hop.webp", correctError: "Sai, thiáº¿u date há»™p" },
Â  Â  Â  Â  Â  Â  { src: "Hu_Hong_Duong_Mo.webp", correctError: "HÆ° há»ng Ä‘Æ°á»ng má»Ÿ" },
Â  Â  Â  Â  Â  Â  { src: "Lech_Nap_Hop.webp", correctError: "Lá»‡ch náº¯p há»™p" },
Â  Â  Â  Â  Â  Â  { src: "Nap_Hop_dan_Khong_dung.webp", correctError: "Náº¯p há»™p dÃ¡n khÃ´ng Ä‘Ãºng" },
Â  Â  Â  Â  Â  Â  { src: "Hu_hong_goc.webp", correctError: "HÆ° há»ng gÃ³c há»™p" },
Â  Â  Â  Â  Â  Â  { src: "Hop_Bien_dang.webp", correctError: "Há»™p biáº¿n dáº¡ng" },
Â  Â  Â  Â  Â  Â  { src: "Duong_Han_Keo_yeu_lem_keo.webp", correctError: "ÄÆ°á»ng hÃ n keo yáº¿u, lem keo" }Â 
Â  Â  Â  Â  ],
Â  Â  Â  Â  goods: ["Hop_Dat.webp"]
Â  Â  }
};

// --- Lá»›p Quáº£n lÃ½ Game (Giá»¯ nguyÃªn) ---
class QCGame {
Â  Â  constructor() {
Â  Â  Â  Â  this.images = [];
Â  Â  Â  Â  this.mode = "";
Â  Â  Â  Â  this.current = 0;
Â  Â  Â  Â  this.score = 0;
Â  Â  Â  Â  this.answered = false;
Â  Â  Â  Â  this.timeLeft = CONFIG.timerDuration;
Â  Â  Â  Â  this.timerInterval = null;
Â  Â  Â  Â  this.playerName = "";

Â  Â  Â  Â  // DOM Elements
Â  Â  Â  Â  this.dom = {
Â  Â  Â  Â  Â  Â  menu: document.getElementById("menu"),
Â  Â  Â  Â  Â  Â  gameContainer: document.getElementById("game-container"),
Â  Â  Â  Â  Â  Â  playerNameInput: document.getElementById("playerName"),
Â  Â  Â  Â  Â  Â  timerElement: document.getElementById("timer"),
Â  Â  Â  Â  Â  Â  imgElement: document.getElementById("biscuitImage"),
Â  Â  Â  Â  Â  Â  resultElement: document.getElementById("result"),
Â  Â  Â  Â  Â  Â  scoreElement: document.getElementById("score"),
Â  Â  Â  Â  Â  Â  errorSection: document.getElementById("errorSection"),
Â  Â  Â  Â  Â  Â  errorSelect: document.getElementById("errorSelect")
Â  Â  Â  Â  };

Â  Â  Â  Â  // GÃ¡n cÃ¡c hÃ m vÃ o scope toÃ n cá»¥c Ä‘á»ƒ gá»i tá»« HTML
Â  Â  Â  Â  window.startGame = this.startGame.bind(this);
Â  Â  Â  Â  window.checkAnswer = this.checkAnswer.bind(this);
Â  Â  Â  Â  window.submitError = this.submitError.bind(this);
Â  Â  Â  Â  window.nextImage = this.nextImage.bind(this);
Â  Â  }

Â  Â  // HÃ m trá»™n máº£ng
Â  Â  shuffleArray(array) {
Â  Â  Â  Â  for (let i = array.length - 1; i > 0; i--) {
Â  Â  Â  Â  Â  Â  const j = Math.floor(Math.random() * (i + 1));
Â  Â  Â  Â  Â  Â  [array[i], array[j]] = [array[j], array[i]];
Â  Â  Â  Â  }
Â  Â  }

Â  Â  // HÃ m táº£i dá»¯ liá»‡u áº£nh cho game
Â  Â  loadGameData(mode) {
Â  Â  Â  Â  // ThÃªm timestamp Ä‘á»ƒ trÃ¡nh cache
Â  Â  Â  Â  const timestamp = `?v=${Date.now()}`;
Â  Â  Â  Â  const data = ERROR_DATA[mode];
Â  Â  Â  Â Â 
Â  Â  Â  Â  let allImages = [];
Â  Â  Â  Â Â 
Â  Â  Â  Â  // 1. Lá»—i
Â  Â  Â  Â  data.errors.forEach(err => {
Â  Â  Â  Â  Â  Â  allImages.push({Â 
Â  Â  Â  Â  Â  Â  Â  Â  src: CONFIG.baseURL + err.src + timestamp,Â 
Â  Â  Â  Â  Â  Â  Â  Â  isGood: false,Â 
Â  Â  Â  Â  Â  Â  Â  Â  correctError: err.correctErrorÂ 
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  // 2. Äáº¡t
Â  Â  Â  Â  data.goods.forEach(goodSrc => {
Â  Â  Â  Â  Â  Â  allImages.push({Â 
Â  Â  Â  Â  Â  Â  Â  Â  src: CONFIG.baseURL + goodSrc + timestamp,Â 
Â  Â  Â  Â  Â  Â  Â  Â  isGood: true,Â 
Â  Â  Â  Â  Â  Â  Â  Â  correctError: "Äáº¡t" // GiÃ¡ trá»‹ máº·c Ä‘á»‹nh cho áº£nh Ä‘áº¡t
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  });

Â  Â  Â  Â  this.shuffleArray(allImages);
Â  Â  Â  Â  return allImages;
Â  Â  }

Â  Â  // Báº¯t Ä‘áº§u game
Â  Â  startGame(selectedMode) {
Â  Â  Â  Â  this.playerName = this.dom.playerNameInput.value.trim();
Â  Â  Â  Â  if (!this.playerName) {
Â  Â  Â  Â  Â  Â  alert("HÃ£y nháº­p tÃªn!");
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  this.mode = selectedMode;
Â  Â  Â  Â  this.images = this.loadGameData(this.mode);
Â  Â  Â  Â  this.current = 0;
Â  Â  Â  Â  this.score = 0;

Â  Â  Â  Â  // áº¨n menu, hiá»‡n game
Â  Â  Â  Â  this.dom.menu.style.display = "none";
Â  Â  Â  Â  this.dom.gameContainer.style.display = "block";

Â  Â  Â  Â  this.loadErrorOptions();
Â  Â  Â  Â  this.loadImage();
Â  Â  }

Â  Â  // Load options lá»—i vÃ o select
Â  Â  loadErrorOptions() {
Â  Â  Â  Â  const errorList = ERROR_DATA[this.mode].errors.map(e => e.correctError);
Â  Â  Â  Â  this.dom.errorSelect.innerHTML = "<option value=''>-- Chá»n loáº¡i lá»—i --</option>";
Â  Â  Â  Â  errorList.forEach(opt => {
Â  Â  Â  Â  Â  Â  const option = document.createElement("option");
Â  Â  Â  Â  Â  Â  option.value = opt;
Â  Â  Â  Â  Â  Â  option.textContent = opt;
Â  Â  Â  Â  Â  Â  this.dom.errorSelect.appendChild(option);
Â  Â  Â  Â  });
Â  Â  }

Â  Â  // Báº¯t Ä‘áº§u Timer
Â  Â  startTimer() {
Â  Â  Â  Â  this.timeLeft = CONFIG.timerDuration;
Â  Â  Â  Â  this.dom.timerElement.textContent = `Thá»i gian: ${this.timeLeft}s`;
Â  Â  Â  Â  this.timerInterval = setInterval(() => {
Â  Â  Â  Â  Â  Â  this.timeLeft--;
Â  Â  Â  Â  Â  Â  this.dom.timerElement.textContent = `Thá»i gian: ${this.timeLeft}s`;
Â  Â  Â  Â  Â  Â  if (this.timeLeft <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(this.timerInterval);
Â  Â  Â  Â  Â  Â  Â  Â  this.dom.resultElement.textContent = "â° Háº¿t thá»i gian!";
Â  Â  Â  Â  Â  Â  Â  Â  this.answered = true;
Â  Â  Â  Â  Â  Â  Â  Â  this.dom.errorSection.style.display = "none";
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(this.nextImage.bind(this), 1500);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }, 1000);
Â  Â  }

Â  Â  // Kiá»ƒm tra Ä‘Ã¡p Ã¡n
Â  Â  checkAnswer(isGoodSelected) {
Â  Â  Â  Â  if (this.answered) return;
Â  Â  Â  Â Â 
Â  Â  Â  Â  const currentImg = this.images[this.current];
Â  Â  Â  Â  clearInterval(this.timerInterval);

Â  Â  Â  Â  if (currentImg.isGood) {
Â  Â  Â  Â  Â  Â  // áº¢nh Äáº¡t
Â  Â  Â  Â  Â  Â  if (isGoodSelected) {
Â  Â  Â  Â  Â  Â  Â  Â  this.dom.resultElement.textContent = "ğŸ‰ ChÃ­nh xÃ¡c! ÄÃ¢y lÃ  áº£nh Ä‘áº¡t!";
Â  Â  Â  Â  Â  Â  Â  Â  this.score++;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  this.dom.resultElement.textContent = "âŒ Sai rá»“i! ÄÃ¢y lÃ  áº£nh Ä‘áº¡t.";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  this.answered = true;
Â  Â  Â  Â  Â  Â  this.dom.errorSection.style.display = "none";
Â  Â  Â  Â  Â  Â  this.dom.scoreElement.textContent = "Äiá»ƒm: " + this.score;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  // áº¢nh Lá»—i
Â  Â  Â  Â  Â  Â  if (!isGoodSelected) {
Â  Â  Â  Â  Â  Â  Â  Â  this.dom.resultElement.textContent = "â— ÄÃ¢y lÃ  lá»—i, chá»n loáº¡i lá»—i!";
Â  Â  Â  Â  Â  Â  Â  Â  this.dom.errorSection.style.display = "block";
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  this.dom.resultElement.textContent = "âŒ Sai rá»“i!";
Â  Â  Â  Â  Â  Â  Â  Â  this.answered = true;
Â  Â  Â  Â  Â  Â  Â  Â  this.dom.errorSection.style.display = "none";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  }

Â  Â  // XÃ¡c nháº­n loáº¡i lá»—i
Â  Â  submitError() {
Â  Â  Â  Â  if (this.answered) return;
Â  Â  Â  Â Â 
Â  Â  Â  Â  const selected = this.dom.errorSelect.value;
Â  Â  Â  Â  const currentImg = this.images[this.current];
Â  Â  Â  Â Â 
Â  Â  Â  Â  if (!selected) {
Â  Â  Â  Â  Â  Â  this.dom.resultElement.textContent = "âš ï¸ Chá»n loáº¡i lá»—i!";
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  if (selected === currentImg.correctError) {
Â  Â  Â  Â  Â  Â  this.dom.resultElement.textContent = "âœ… ChÃ­nh xÃ¡c!";
Â  Â  Â  Â  Â  Â  this.score++;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  this.dom.resultElement.textContent = `âŒ Sai loáº¡i lá»—i. ÄÃ¡p Ã¡n: ${currentImg.correctError}`;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  this.dom.scoreElement.textContent = "Äiá»ƒm: " + this.score;
Â  Â  Â  Â  this.answered = true;
Â  Â  Â  Â  this.dom.errorSection.style.display = "none";
Â  Â  Â  Â  clearInterval(this.timerInterval);
Â  Â  }

Â  Â  // Chuyá»ƒn sang áº£nh tiáº¿p theo
Â  Â  nextImage() {
Â  Â  Â  Â  if (this.current < this.images.length - 1) {
Â  Â  Â  Â  Â  Â  this.current++;
Â  Â  Â  Â  Â  Â  this.loadImage();
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  this.showFinalScore();
Â  Â  Â  Â  }
Â  Â  }

Â  Â  // Táº£i áº£nh má»›i
Â  Â  loadImage() {
Â  Â  Â  Â  const currentImg = this.images[this.current];
Â  Â  Â  Â  this.dom.imgElement.src = currentImg.src;
Â  Â  Â  Â  this.dom.resultElement.textContent = "";
Â  Â  Â  Â  this.dom.errorSection.style.display = "none";
Â  Â  Â  Â  this.dom.errorSelect.value = "";
Â  Â  Â  Â  this.answered = false;
Â  Â  Â  Â  clearInterval(this.timerInterval);
Â  Â  Â  Â  this.startTimer();
Â  Â  }

Â  Â  // Gá»­i Ä‘iá»ƒm lÃªn Google Apps Script
Â  Â  async postScore() {
Â  Â  Â  Â  const response = await fetch(CONFIG.scriptURL, {
Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  body: JSON.stringify({
Â  Â  Â  Â  Â  Â  Â  Â  action: "save",
Â  Â  Â  Â  Â  Â  Â  Â  ten_nguoi_choi: this.playerName,
Â  Â  Â  Â  Â  Â  Â  Â  muc_choi: this.mode,
Â  Â  Â  Â  Â  Â  Â  Â  diem: this.score
Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  });

Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  throw new Error(`POST lá»—i ${response.status}`);
Â  Â  Â  Â  }
Â  Â  Â  Â  return response.text();
Â  Â  }

Â  Â  // Láº¥y báº£ng xáº¿p háº¡ng tá»« Google Apps Script
Â  Â  async getRanking() {
Â  Â  Â  Â  const response = await fetch(CONFIG.scriptURL + "?action=getRanking");
Â  Â  Â  Â Â 
Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  throw new Error(`GET lá»—i ${response.status}`);
Â  Â  Â  Â  }
Â  Â  Â  Â  return response.json();
Â  Â  }

Â  Â  // Hiá»ƒn thá»‹ káº¿t quáº£ cuá»‘i cÃ¹ng vÃ  xáº¿p háº¡ng
Â  Â  async showFinalScore() {
Â  Â  Â  Â  clearInterval(this.timerInterval);
Â  Â  Â  Â  this.dom.gameContainer.innerHTML = `<h2>ğŸ‰ HoÃ n thÃ nh!</h2><p>Äiá»ƒm cá»§a báº¡n: <strong>${this.score}/${this.images.length}</strong></p><p>Äang lÆ°u káº¿t quáº£...</p>`;

Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  await this.postScore();
Â  Â  Â  Â  Â  Â  await new Promise(r => setTimeout(r, 500));Â 
Â  Â  Â  Â  Â  Â  const ranking = await this.getRanking();

Â  Â  Â  Â  Â  Â  let tableHTML = `<h3>ğŸ† Báº£ng xáº¿p háº¡ng TOP 10</h3><table><tr><th>Háº¡ng</th><th>TÃªn</th><th>Má»¥c chÆ¡i</th><th>Äiá»ƒm</th></tr>`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (Array.isArray(ranking)) {
Â  Â  Â  Â  Â  Â  Â  Â  ranking.slice(0, 10).forEach((r, i) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tableHTML += `<tr><td>${i + 1}</td><td>${r.name}</td><td>${r.mode}</td><td>${r.score}</td></tr>`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  tableHTML += `<tr><td colspan='4'>KhÃ´ng cÃ³ dá»¯ liá»‡u</td></tr>`;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  tableHTML += "</table><br><button onclick='location.reload()'>ğŸ”„ ChÆ¡i láº¡i</button>";

Â  Â  Â  Â  Â  Â  this.dom.gameContainer.innerHTML = `<h2>ğŸ‰ HoÃ n thÃ nh!</h2><p>Äiá»ƒm cá»§a báº¡n: <strong>${this.score}/${this.images.length}</strong></p>${tableHTML}`;

Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  this.dom.gameContainer.innerHTML = `<h2>ğŸ‰ HoÃ n thÃ nh!</h2><p>Äiá»ƒm cá»§a báº¡n: <strong>${this.score}/${this.images.length}</strong></p><p>âš ï¸ Lá»—i: ${err.message}</p><button onclick='location.reload()'>ğŸ”„ ChÆ¡i láº¡i</button>`;
Â  Â  Â  Â  Â  Â  console.error(err);
Â  Â  Â  Â  }
Â  Â  }
}

// Khá»Ÿi táº¡o Game khi trang web táº£i xong
document.addEventListener('DOMContentLoaded', () => {
Â  Â  new QCGame();
});
</script>
</body>
</html>
